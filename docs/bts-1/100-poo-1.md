# Premiers pas en POO

## Exercice 0

Reprendre le code du cours (classe Point).

??? success "Solution"

    :octicons-file-24: exo0/Point.h

    ```cpp
    #ifndef Point_H
    #define Point_H

    class Point {
        public :
            int x;
            int y;
            char lettre;
            void afficher();
    };

    #endif
    ```

    :octicons-file-24: exo0/Point.cpp

    ```cpp
    #include <iostream>
    #include "Point.h"

    void Point::afficher() {
        std::cout << lettre << "(" << x << "," << y << ")\n";
    }
    ```

    :octicons-file-24: exo0/main.cpp

    ```cpp
    #include "Point.h"

    int main() {
        Point p1, p2;
        p1.x = 5;
        p1.y = 2;
        p1.lettre = 'A';	
        p1.afficher(); 
        p2.x = 3;
        p2.y = -6;
        p2.lettre = 'B';	
        p2.afficher();
        p1.afficher();        
        return 0;
    }
    ```

    Compilation : `g++ exo0/*.cpp -o exo0.exe`

Transformer la classe pour quelle respecte l'encapsulation.

??? success "Solution"

    :octicons-file-24: exo0/Point.h

    ```cpp
    #ifndef Point_H
    #define Point_H

    class Point {
        private :
            int x;
            int y;
            char lettre;
        public :
            void setX(int _x);
            void setY(int _y);
            void setLettre(char _lettre);
            int getX();
            int getY();
            char getLettre();
            void afficher();
    };

    #endif
    ```

    :octicons-file-24: exo0/Point.cpp

    ```cpp
    #include <iostream>
    #include "Point.h"

    void Point::afficher() {
        std::cout << lettre << "(" << x << "," << y << ")\n";
    }

    void Point::setX(int _x) {
        x = _x;
    }

    void Point::setY(int _y) {
        y = _y;
    }

    void Point::setLettre(char _lettre) {
        lettre = _lettre;
    }

    int Point::getX() {
        return x;
    }

    int Point::getY() {
        return y;
    }

    char Point::getLettre() {
        return lettre;
    }
    ```

    :octicons-file-24: exo0/main.cpp

    ```cpp
    #include "Point.h"

    int main() {
        Point p1, p2;
        p1.setX(5);
        p1.setY(2);
        p1.setLettre('A');
        p1.afficher(); 
        p2.setX(3);
        p2.setY(-6);
        p2.setLettre('B');
        p2.afficher();
        p1.afficher();        
        return 0;
    }
    ```

## Exercice 1

Déclarer en C++ la classe correspondant au diagramme suivant :

![IntRange](../images/cours/bts-2/20/IntRange.png)

??? success "Solution"

    ```cpp
    #ifndef IntRange_H
    #define IntRange_H

    class IntRange {
        private :
            int value;
            int min;
            int max;
            void setValue(int _value);
        public :
            void Initialiser();
            void Initialiser(int _min, int _max);
            void Initialiser(int _min, int _max, int _value);
            int getValue();
    };

    #endif
    ```

## Exercice 2

Compléter la classe C++ suivante :

```cpp
______ DataBase {
    _______ :
        string server;
        int port;
        string login;
        ______ password;
        string name;
    public :
        void init(string _server, int _port, string _login, string _password);
        string getIp();
        ______ getPort();
        string getLogin();
        string getName();
        void setName(______ _name);
        string getConnectionString();
        bool connect();
        bool check();
};
```

??? success "Solution"

    ```cpp
    #include <string>       // Pour utiliser la classe string

    using namespace std;    // Pour s'affranchir des std::

    #ifndef DataBase_H
    #define DataBase_H

    class DataBase {
        private :
            string server;
            int port;
            string login;
            string password;
            string name;
        public :
            void init(string _server, int _port, string _login, string _password);
            string getIp();
            int getPort();                  // Accesseur de l'attribut port
            string getLogin();
            string getName();
            void setName(string _name);     // Mutateur de l'attribut name
            string getConnectionString();
            bool connect();
            bool check();
    };

    #endif
    ```

Définir en C++ à l’extérieur de la classe les méthodes `getName()` et `setName()`.

??? success "Solution"

    ```cpp
    string DataBase::getName() {
        return name;
    }

    void DataBase::setName(string _name) {
        name = _name;
    }
    ```

## Exercice 3

Dessiner le diagramme correspondant à la classe C++ suivante dans [Visual Paradigm](https://online.visual-paradigm.com/login.jsp){:target="_blank"} :

```cpp
class Connexion {
    private :
        string ip;
        int port;
    public :
        void initialiser(string _ip, string port);
        string getIp();
        int getPort();
        void connecter();
}
```

??? success "Solution"

    ![Connexion UML](../images/cours/bts-1/100/connexion.png)

## Exercice 4

Corriger dans [Visual Paradigm](https://online.visual-paradigm.com/login.jsp){:target="_blank"} la classe suivante pour qu'elle respecte l'encapsulation :

![Connexion](../images/cours/bts-2/20/Personne.png)

??? success "Solution"

    ![Personne UML](../images/cours/bts-1/100/personne.png)

## Exercice 5

On souhaite générer une classe représentant un compteur. Celui-ci est composé d'une valeur entière positive ou nulle, nulle à l'origine. Il ne peut varier que par pas de 1 (incrémentation ou décrémentation). Décrémenter un compteur nul est sans effet.

1. Commencer par un diagramme de classe

2. Ecrire la classe Counter dans deux fichiers, un pour la déclaration (Counter.h) et un pour la définition (Counter.cpp)

3. Ecrire un programme de test (exo5.cpp)

??? note "Compiler plusieurs fichiers"

    Créer les fichiers dans un même répertoire, puis les compiler avec la commande : 

    ```
    > g++ *.cpp -o exo_5.exe
    ```