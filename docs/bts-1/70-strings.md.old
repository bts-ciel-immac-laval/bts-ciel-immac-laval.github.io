# Les cha√Ænes de caract√®res

![Cha√Ænes de caract√®res](../pdf/cours/bts1/bts1_09_tableaux_2.pdf)

## Exercice 8

Ecrire un programme exo_8.c qui affiche le deuxi√®me, le quatri√®me et le septi√®me caract√®re d'une cha√Æne de 10 caract√®res saisie au clavier.

??? success "Solution"

    ```c
    #include <stdio.h>
    #include <string.h>

    int main() {
        char input[11] = "";

        printf("Saisir une chaine de 10 caracteres : ");

        while (strlen(input) != 10) {
            gets(input);
        }

        printf("Caracteres  n¬∞2 : %c, n¬∞4 : %c et n¬∞7 : %c\n", input[1], input[3], input[6]);

        return 0;
    }
    ```

## Exercice 9

Ecrire un programme exo_9.c qui :

1.  d'abord, cr√©e une cha√Æne de caract√®res (20 caract√®res maximum),

2.  puis, y stocke la saisie de l'utilisateur lue caract√®re par caract√®re jusqu'√† ce que la cha√Æne soit remplie,

    ??? warning "Oh oh... üò£"

        Des difficult√©s √† lire successivement des caract√®res ?

        Qu'est-ce qu'on a dit **en cours** sur `scanf` et sa m√©moire tampon (buffer) ?

3.  ensuite, affiche la cha√Æne,

4.  finalement, affiche la cha√Æne en ordre inverse.

??? success "Solution"

    ```c
    #include <stdio.h>
    #include <stdlib.h>

    int main() {
        
        char string[21] = "", temp;

        system("chcp 65001");
        system("cls");

        puts("Saisir 20 caract√®res :");
        for (int i = 0; i < 20; i++) {
            printf("#%02d : ", i + 1);
            
            // Lecture caract√®re par caract√®re
            scanf("%c", string + i);
            // üí° Pour se d√©barasser du '\n' qui reste dans le buffer de scanf !
            scanf("%c", &temp); 

            // Autre solution :
            // char input[2];
            // gets(input);
            // sscanf(input, "%c", string + i);
        }

        // On n'oublie pas de mettre un \0 √† la fin
        string[20] = '\0';

        // Affichage dans l'ordre
        printf("\nCha√Æne saisie : %s\n", string);

        // Affichage dans l'ordre inverse
        printf("\nCha√Æne saisie en ordre inverse : ");
        for (int i = 19; i >= 0; i--) {
            printf("%c", string[i]);
        }
        printf("\n");

        return 0;
    }
    ```

## Exercice 10

Ecrire un programme exo_10.c qui affiche le nombre de fois o√π le caract√®re 'a' est pr√©sent dans la cha√Æne "It's gonna be legend... wait for it... dary!".

??? success "Solution"

    ```c
    #include <stdio.h>
    #include <stdlib.h>
    #include <string.h>

    int main() {
        
        char string[] = "It's gonna be legend... wait for it... dary!";
        int count = 0;

        system("chcp 65001");
        system("cls");

        for (int i = 0; i < strlen(string); i++) {
            if (string[i] == 'a') {
                count++;
            }
        }

        printf("Il y a %d 'a' dans %s", count, string);

        return 0;
    }
    ```
    

## Exercice 11

Reprendre l'exercice 10 dans un nouveau programme exo_11.c :

1. En rendant le **caract√®re** et la **cha√Æne** saisissables par l'utilisateur.

2. En recherchant minuscule et majuscule du caract√®re saisi pour les 26 lettres non accentu√©es.

??? success "Solution"

    ```c
    #include <stdio.h>
    #include <stdlib.h>
    #include <string.h>
    #include <ctype.h>

    int main() {
        
        char string[100] = "", letter = 0;
        int count = 0;

        system("chcp 65001");
        system("cls");

        // Saisie
        puts("Saisir une phrase :");
        gets(string);
        while (!(letter >= 'a' && letter <= 'z' || letter >= 'A' && letter <= 'Z')) {
            printf("Caract√®re recherch√© : ");
            scanf("%c", &letter);
        }
        
        // On s'assure d'avoir une minuscule
        letter = tolower(letter);
        
        // Comptage
        for (int i = 0; i < strlen(string); i++) {
            if (string[i] == letter || string[i] == letter - 32) {
                count++;
            }
        }

        printf("Il y a %d '%c' dans %s", count, letter, string);

        return 0;
    }
    ```

## Exercice 12 - Chiffrage de C√©sar

Proposer un programme permettant de chiffrer et d√©chiffrer un message gr√¢ce au [chiffrage de C√©sar](https://fr.wikipedia.org/wiki/Chiffrement_par_d%C3%A9calage){target="_blank"}.

```
> cryptage.exe
Message : Salut, comment allez-vous ?
D√©calage : 1
R√©sultat : 1tbmvudpnnfoubmmfawpvt
```

!!! warning "La permutation est cyclique !"

    ex : `'z' + 2 = 'b'` !

```
> decryptage.exe
Message : 1tbmvudpnnfoubmmfawpvt
R√©sultat : salutcommentallezvous
```
![cesar](../images/cours/bts-1/70/cesar.jpg)

!!! abstract "Avez-vous pens√© √† tout ?"

    + [x] Fonction de nettoyage du texte :

        + [ ] Supprime les espaces
        
        + [ ] Supprime les caract√®res non alphab√©tiques

        + [ ] Remplace les caract√®res accentu√©s par leur √©quivalent non-accentu√©

        + [ ] Transforme les caract√®res alphab√©tiques en minuscules

    + [x] Fonction de chiffrage :

        + [ ] Permute les caract√®res de mani√®re cyclique

    + [x] Fonction de d√©chiffrage :

        + [ ] Permute les caract√®res de mani√®re cyclique

    + [ ] Aller plus loin

        + [ ] Offusquer la cl√© dans le message de mani√®re efficace

        + [ ] On peut passer le message et le d√©calage via la ligne de commande
        
        + [ ] Proposer un chiffrage par d√©calage plus robuste √† une attaque brute force